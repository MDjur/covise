MACRO(USE_CURL)
   IF ((NOT CURL_FOUND) AND (${ARGC} LESS 1))
      USING_MESSAGE("Skipping because of missing CURL")
    RETURN()
 ENDIF((NOT CURL_FOUND) AND (${ARGC} LESS 1))
 IF(NOT CURL_USED AND CURL_FOUND)
    SET(CURL_USED TRUE)
    ADD_DEFINITIONS(-DHAVE_LIBCURL)
    IF(WIN32)
      ADD_DEFINITIONS(-DCURL_STATICLIB)
    ENDIF(WIN32)
    INCLUDE_DIRECTORIES(${CURL_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${CURL_LIBRARIES})
  ENDIF()
ENDMACRO(USE_CURL)
  
