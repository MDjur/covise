MACRO(USE_ALSA)
  covise_find_package(ALSA)
  IF ((NOT ALSA_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing ALSA")
    RETURN()
  ENDIF((NOT ALSA_FOUND) AND (${ARGC} LESS 1))
  IF(NOT ALSA_USED AND ALSA_FOUND)
    SET(ALSA_USED TRUE)
	set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} ${ALSA_LINK_FLAGS}")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${ALSA_CXX_FLAGS}")
    INCLUDE_DIRECTORIES(SYSTEM ${ALSA_INCLUDE_DIRS})
    ADD_DEFINITIONS(-DHAVE_ALSA)
	LINK_DIRECTORIES(${ALSA_LIBRARY_DIRS})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${ALSA_LIBRARIES})
  ENDIF()
ENDMACRO(USE_ALSA)

