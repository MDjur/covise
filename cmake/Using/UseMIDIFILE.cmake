
MACRO(USE_MIDIFILE)
  FIND_PACKAGE(MIDIFILE)
  IF ((NOT MIDIFILE_FOUND)  AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing MIDIFILE")
    RETURN()
  ENDIF((NOT MIDIFILE_FOUND) AND (${ARGC} LESS 1))
    MESSAGE(MIDIFILE_USED)
  IF(NOT MIDIFILE_USED AND MIDIFILE_FOUND)
    SET(MIDIFILE_USED TRUE)
    INCLUDE_DIRECTORIES(SYSTEM ${MIDIFILE_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${MIDIFILE_LIBRARIES})
  ENDIF()
ENDMACRO(USE_MIDIFILE)

