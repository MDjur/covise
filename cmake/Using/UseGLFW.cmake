MACRO(USE_GLFW)
  COVISE_FIND_PACKAGE(GLFW)

  IF ((NOT GLFW3_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing GLFW")
    RETURN()
  ENDIF()

  IF (NOT GLFW_USED AND GLFW3_FOUND)
    USE_OPENGL(${ARGN})
    SET(GLFW_USED TRUE)
    ADD_DEFINITIONS(-DHAVE_GLFW)

    if (GLFW3_INCLUDE_DIRS)
      INCLUDE_DIRECTORIES(SYSTEM ${GLFW3_INCLUDE_DIRS})
    elseif (GLFW_INCLUDE_DIRS)
      INCLUDE_DIRECTORIES(SYSTEM ${GLFW_INCLUDE_DIRS})
    elseif (GLFW3_INCLUDE_DIR)
      INCLUDE_DIRECTORIES(SYSTEM ${GLFW3_INCLUDE_DIR})
    elseif (GLFW_INCLUDE_DIR)
      INCLUDE_DIRECTORIES(SYSTEM ${GLFW_INCLUDE_DIR})
    endif()

    if (GLFW3_LIBRARIES)
      list(APPEND EXTRA_LIBS ${GLFW3_LIBRARIES})
    elseif (GLFW_LIBRARIES)
      list(APPEND EXTRA_LIBS ${GLFW_LIBRARIES})
    elseif (GLFW3_LIBRARY)
      list(APPEND EXTRA_LIBS ${GLFW3_LIBRARY})
    elseif (GLFW_LIBRARY)
      list(APPEND EXTRA_LIBS ${GLFW_LIBRARY})
    endif()

    if (NOT MSVC)
      if (NOT GLFW3_LIBRARIES AND NOT GLFW_LIBRARIES AND NOT GLFW3_LIBRARY AND NOT GLFW_LIBRARY)
        list(APPEND EXTRA_LIBS glfw)  # nur GCC/Clang Fallback
      endif()
    endif()
  ENDIF()
ENDMACRO()
  
